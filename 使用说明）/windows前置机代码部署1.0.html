<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.10 (454267)"/><meta name="altitude" content="31.28115272521973"/><meta name="author" content="790115264@qq.com"/><meta name="created" content="2017-09-26 08:50:11 +0000"/><meta name="latitude" content="31.93949790044694"/><meta name="longitude" content="118.7377945934754"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-26 09:41:10 +0000"/><title>windows前置机代码部署1.0</title></head><body><div><a href="windows%E5%89%8D%E7%BD%AE%E6%9C%BA%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B21.0.resources/deploy.zip">deploy.zip</a><br/></div><div>前置机服务 （中大的vpn地址为172.17.10.250）</div><div><br/></div><div>port.txt 保存运行的进程号</div><div>deploy.js 在下载完架包后，先杀死之前正在运行的进程，再运行jar.bat 并保存进程号</div><div>download.js 远程下载（如172.17.10.17）下的架包</div><div>index.js 主程序</div><div>jar.bat 执行脚本运行java －jar (需传参)</div><div>download  存放下载的架包的地方</div><div><br/></div><div>1.在前置机上安装nodeJs环境 顺便再装一下cnpm（淘宝镜像）</div><div><br/></div><div>2.在前置机上随便什么地方把这个文件夹解压了放在上面</div><div><br/></div><div>3.修改index.js中的url地址为 你本地代码下载服务的地址(vpn)</div><div><img src="windows%E5%89%8D%E7%BD%AE%E6%9C%BA%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B21.0.resources/FB01FA87-0BA1-42C0-B3DF-3FDFFBFDF35F.png" height="47" width="537"/><br/></div><div>4.打开cmd，进入那个目录，运行cpm install(如果没有安装cnpm 则 执行 npm install)</div><div><br/></div><div><div><div>5.执行node index.js</div><div><br/></div></div></div><div><br/></div><div>本机下载服务 (我的vpn的地址为172.17.10.17)</div><div><a href="windows%E5%89%8D%E7%BD%AE%E6%9C%BA%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B21.0.resources/download.zip">download.zip</a><br/></div><div/><div>1.在本机上安装nodeJs环境 顺便再装一下cnpm（淘宝镜像）<br/></div><div><div>2.npm install 或 cpm install</div><div><div>3.download中放置所需要部署的文件（如文件webservice.jar）</div><div><img src="windows%E5%89%8D%E7%BD%AE%E6%9C%BA%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B21.0.resources/588BCCD3-2A3B-4388-BB76-2672EC76E0AC.png" height="119" width="521"/><br/></div><div>4.进入这个目录执行 node index.js</div><div><br/></div><div><br/></div><div>地址栏中运行</div><div><a href="http://172.17.10.250:10251/deploy/webservice-0.0.1.jar">http://172.17.10.250:10251/deploy/webservice-0.0.1.jar</a><br/></div><div>前置机中的服务将会自行下载本机下载服务中的相关架包（注：libs文件是我另外上传的）</div><div><img src="windows%E5%89%8D%E7%BD%AE%E6%9C%BA%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B21.0.resources/D8EFC3F1-AF00-48F1-8299-66FACE454D75.png" height="594" width="792"/><br/></div><div><br/></div><div>并且会自动杀死之前的进程并执行jar.bat 脚本来部署代码</div><div><img src="windows%E5%89%8D%E7%BD%AE%E6%9C%BA%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B21.0.resources/B79B654A-C685-47F2-AFB2-84BAC77A5F33.png" height="547" width="875"/><br/></div><div><br/></div><div><br/></div><div>之后每次只需要将代码放在download文件夹里面并重新执行http请求即可重新部署</div></div></div><div><br/></div></body></html>